<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SolTrending - Boost Your Token</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

```
    body {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        background: linear-gradient(135deg, #0F0F23 0%, #1A1A2E 50%, #16213E 100%);
        min-height: 100vh;
        color: white;
        overflow-x: hidden;
    }

    .container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 20px;
    }

    .hero-section {
        text-align: center;
        padding: 60px 0;
        position: relative;
    }

    .hero-bg {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: radial-gradient(circle at 50% 50%, rgba(138, 43, 226, 0.1) 0%, transparent 70%);
        pointer-events: none;
    }

    .logo {
        width: 120px;
        height: 120px;
        margin: 0 auto 30px;
        background: linear-gradient(135deg, #FF6B6B, #4ECDC4, #45B7D1, #96CEB4);
        border-radius: 30px;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        animation: float 6s ease-in-out infinite;
    }

    @keyframes float {
        0%, 100% { transform: translateY(0px); }
        50% { transform: translateY(-10px); }
    }

    .logo::before {
        content: "üìà";
        font-size: 60px;
        animation: pulse 2s ease-in-out infinite;
    }

    @keyframes pulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.1); }
    }

    .main-title {
        font-size: 4rem;
        font-weight: 900;
        background: linear-gradient(135deg, #FF6B6B, #4ECDC4, #45B7D1);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 20px;
        letter-spacing: -2px;
    }

    .subtitle {
        font-size: 1.5rem;
        color: rgba(255,255,255,0.8);
        margin-bottom: 50px;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
        line-height: 1.6;
    }

    .services-container {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(600px, 1fr));
        gap: 40px;
        margin: 80px 0;
    }

    .service-category {
        background: rgba(255,255,255,0.05);
        backdrop-filter: blur(20px);
        border-radius: 24px;
        padding: 40px;
        border: 1px solid rgba(255,255,255,0.1);
        position: relative;
        transition: all 0.3s ease;
    }

    .service-category:hover {
        transform: translateY(-5px);
        box-shadow: 0 30px 60px rgba(0,0,0,0.3);
        border-color: rgba(255,255,255,0.2);
    }

    .category-header {
        text-align: center;
        margin-bottom: 30px;
    }

    .category-title {
        font-size: 2.5rem;
        font-weight: 800;
        background: linear-gradient(135deg, #FFD700, #FFA500);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        margin-bottom: 10px;
    }

    .category-desc {
        color: rgba(255,255,255,0.7);
        font-size: 1.1rem;
    }

    .service-item {
        background: rgba(255,255,255,0.03);
        border: 1px solid rgba(255,255,255,0.1);
        border-radius: 16px;
        padding: 25px;
        margin-bottom: 15px;
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
    }

    .service-item::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
        transition: left 0.5s ease;
    }

    .service-item:hover::before {
        left: 100%;
    }

    .service-item:hover {
        background: rgba(255,255,255,0.08);
        transform: translateX(5px);
        border-color: #4ECDC4;
        box-shadow: 0 10px 30px rgba(78, 205, 196, 0.2);
    }

    .service-item.selected {
        background: linear-gradient(135deg, rgba(255,215,0,0.1), rgba(255,165,0,0.1));
        border: 2px solid #FFD700;
        transform: scale(1.02);
        box-shadow: 0 0 30px rgba(255,215,0,0.3);
    }

    .service-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
    }

    .service-duration {
        font-size: 1.4rem;
        font-weight: 700;
        color: #4ECDC4;
    }

    .service-price {
        font-size: 1.8rem;
        font-weight: 900;
        color: #FFD700;
        text-shadow: 0 0 10px rgba(255,215,0,0.3);
    }

    .service-desc {
        color: rgba(255,255,255,0.8);
        line-height: 1.5;
    }

    .payment-section {
        background: linear-gradient(135deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
        backdrop-filter: blur(30px);
        border-radius: 24px;
        padding: 50px;
        margin: 50px 0;
        border: 1px solid rgba(255,255,255,0.15);
        text-align: center;
        position: relative;
    }

    .payment-title {
        font-size: 2.5rem;
        font-weight: 800;
        margin-bottom: 30px;
        background: linear-gradient(135deg, #4ECDC4, #45B7D1);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }

    .selected-service-info {
        background: linear-gradient(135deg, rgba(255,215,0,0.1), rgba(255,165,0,0.05));
        border: 1px solid rgba(255,215,0,0.3);
        border-radius: 16px;
        padding: 30px;
        margin-bottom: 40px;
    }

    .amount-highlight {
        background: linear-gradient(135deg, rgba(255,215,0,0.2), rgba(255,165,0,0.1));
        border: 2px solid rgba(255,215,0,0.4);
        border-radius: 16px;
        padding: 30px;
        margin: 30px 0;
    }

    .amount-label {
        font-size: 1.2rem;
        color: rgba(255,255,255,0.8);
        margin-bottom: 10px;
    }

    .amount-value {
        font-size: 3rem;
        font-weight: 900;
        color: #FFD700;
        text-shadow: 0 0 20px rgba(255,215,0,0.5);
    }

    .address-container {
        background: rgba(0,0,0,0.3);
        border: 2px solid rgba(255,255,255,0.2);
        border-radius: 16px;
        padding: 25px;
        margin: 30px 0;
        display: flex;
        align-items: center;
        gap: 20px;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .address-container:hover {
        border-color: #4ECDC4;
        background: rgba(78, 205, 196, 0.1);
        transform: translateY(-2px);
        box-shadow: 0 10px 30px rgba(78, 205, 196, 0.2);
    }

    .wallet-address {
        flex: 1;
        font-family: 'Monaco', monospace;
        font-size: 1.1rem;
        color: #FFD700;
        font-weight: 600;
        word-break: break-all;
        text-align: left;
    }

    .copy-button {
        background: linear-gradient(135deg, #4ECDC4, #45B7D1);
        color: white;
        border: none;
        padding: 15px 25px;
        border-radius: 12px;
        font-weight: 700;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 1rem;
        white-space: nowrap;
    }

    .copy-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(78, 205, 196, 0.4);
    }

    .copy-button.copied {
        background: linear-gradient(135deg, #00ff88, #00cc66);
    }

    .instructions {
        background: rgba(255,255,255,0.03);
        border-radius: 16px;
        padding: 30px;
        margin: 30px 0;
        text-align: left;
    }

    .instructions h3 {
        color: #4ECDC4;
        font-size: 1.5rem;
        margin-bottom: 20px;
        text-align: center;
    }

    .instructions ol {
        counter-reset: step-counter;
        list-style: none;
        padding: 0;
    }

    .instructions li {
        counter-increment: step-counter;
        margin-bottom: 15px;
        padding-left: 40px;
        position: relative;
        line-height: 1.6;
    }

    .instructions li::before {
        content: counter(step-counter);
        position: absolute;
        left: 0;
        top: 0;
        background: linear-gradient(135deg, #4ECDC4, #45B7D1);
        color: white;
        width: 25px;
        height: 25px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        font-size: 0.9rem;
    }

    .warning-box {
        background: linear-gradient(135deg, rgba(255,165,0,0.1), rgba(255,69,0,0.05));
        border: 2px solid rgba(255,165,0,0.3);
        border-radius: 16px;
        padding: 25px;
        margin: 30px 0;
        text-align: center;
    }

    .warning-box strong {
        color: #FFA500;
        font-size: 1.1rem;
    }

    .hidden {
        display: none;
    }

    .notification {
        position: fixed;
        top: 20px;
        right: 20px;
        background: rgba(0,0,0,0.9);
        color: white;
        padding: 20px 30px;
        border-radius: 12px;
        font-weight: 600;
        z-index: 1000;
        transform: translateX(400px);
        transition: transform 0.3s ease;
    }

    .notification.show {
        transform: translateX(0);
    }

    .notification.success {
        border-left: 4px solid #00ff88;
    }

    @media (max-width: 768px) {
        .main-title {
            font-size: 2.5rem;
        }
        
        .services-container {
            grid-template-columns: 1fr;
            gap: 20px;
        }
        
        .service-category {
            padding: 25px;
        }
        
        .payment-section {
            padding: 30px 20px;
        }
        
        .address-container {
            flex-direction: column;
            gap: 15px;
        }
        
        .wallet-address {
            text-align: center;
            font-size: 0.95rem;
        }
        
        .copy-button {
            width: 100%;
            padding: 18px;
        }
        
        .amount-value {
            font-size: 2.2rem;
        }
    }
</style>
```

</head>
<body>
    <div class="container">
        <!-- Hero Section -->
        <div class="hero-section">
            <div class="hero-bg"></div>
            <div class="logo"></div>
            <h1 class="main-title">SolTrending</h1>
            <p class="subtitle">Boost your token to the top trending lists with our premium services. Get maximum exposure and drive your project to success.</p>
        </div>

```
    <!-- Services Grid -->
    <div class="services-container">
        <!-- Top 15 Trending -->
        <div class="service-category">
            <div class="category-header">
                <h2 class="category-title">Top 15 Trending</h2>
                <p class="category-desc">Get your token featured in the top 15 trending list</p>
            </div>
            
            <div class="service-item" data-type="top15" data-duration="4" data-price="1.0">
                <div class="service-header">
                    <span class="service-duration">4 Hours</span>
                    <span class="service-price">1.0 SOL</span>
                </div>
                <p class="service-desc">Quick boost to get your token trending for 4 hours with immediate visibility</p>
            </div>

            <div class="service-item" data-type="top15" data-duration="8" data-price="1.7">
                <div class="service-header">
                    <span class="service-duration">8 Hours</span>
                    <span class="service-price">1.7 SOL</span>
                </div>
                <p class="service-desc">Extended visibility for 8 hours of trending exposure and engagement</p>
            </div>

            <div class="service-item" data-type="top15" data-duration="16" data-price="4.1">
                <div class="service-header">
                    <span class="service-duration">16 Hours</span>
                    <span class="service-price">4.1 SOL</span>
                </div>
                <p class="service-desc">Long-term exposure with 16 hours of consistent trending visibility</p>
            </div>

            <div class="service-item" data-type="top15" data-duration="24" data-price="5.2">
                <div class="service-header">
                    <span class="service-duration">24 Hours</span>
                    <span class="service-price">5.2 SOL</span>
                </div>
                <p class="service-desc">Full day of trending visibility for maximum impact and reach</p>
            </div>
        </div>

        <!-- Top 7 Trending -->
        <div class="service-category">
            <div class="category-header">
                <h2 class="category-title">Top 7 Trending</h2>
                <p class="category-desc">Premium placement in the exclusive top 7 trending list</p>
            </div>
            
            <div class="service-item" data-type="top7" data-duration="4" data-price="1.5">
                <div class="service-header">
                    <span class="service-duration">4 Hours</span>
                    <span class="service-price">1.5 SOL</span>
                </div>
                <p class="service-desc">Premium 4-hour boost to the exclusive top 7 trending position</p>
            </div>

            <div class="service-item" data-type="top7" data-duration="8" data-price="3.0">
                <div class="service-header">
                    <span class="service-duration">8 Hours</span>
                    <span class="service-price">3.0 SOL</span>
                </div>
                <p class="service-desc">8 hours of premium trending placement with enhanced visibility</p>
            </div>

            <div class="service-item" data-type="top7" data-duration="16" data-price="5.7">
                <div class="service-header">
                    <span class="service-duration">16 Hours</span>
                    <span class="service-price">5.7 SOL</span>
                </div>
                <p class="service-desc">Extended 16-hour premium visibility in the top trending spots</p>
            </div>

            <div class="service-item" data-type="top7" data-duration="24" data-price="8.4">
                <div class="service-header">
                    <span class="service-duration">24 Hours</span>
                    <span class="service-price">8.4 SOL</span>
                </div>
                <p class="service-desc">Full day of premium top 7 trending with maximum exposure</p>
            </div>
        </div>
    </div>

    <!-- Payment Section -->
    <div id="paymentSection" class="payment-section hidden">
        <h2 class="payment-title">Complete Your Order</h2>
        
        <div id="selectedServiceInfo" class="selected-service-info">
            <!-- Service info will be populated by JavaScript -->
        </div>
        
        <div class="amount-highlight">
            <div class="amount-label">Send exactly:</div>
            <div class="amount-value" id="paymentAmount">0 SOL</div>
        </div>

        <div style="font-size: 1.3rem; font-weight: 600; margin: 25px 0; color: #4ECDC4;">
            üí≥ Payment Address
        </div>

        <div class="address-container" id="addressContainer">
            <div class="wallet-address" id="walletAddress">
                DB9YZwXgNeQByab3bgJnJKrnYP7CtZGktrdnDRCLrKA3
            </div>
            <button class="copy-button" id="copyButton">
                üìã Copy Address
            </button>
        </div>

        <div class="instructions">
            <h3>üöÄ Payment Instructions</h3>
            <ol>
                <li><strong>Copy the wallet address</strong> by clicking the copy button above</li>
                <li><strong>Open your Solana wallet</strong> (Phantom, Solflare, Backpack, etc.)</li>
                <li><strong>Send exactly <span id="exactAmount">0 SOL</span></strong> to the copied address</li>
                <li><strong>Add your token contract address</strong> in the memo field (recommended)</li>
                <li><strong>Confirm the transaction</strong> and wait for blockchain confirmation</li>
                <li><strong>Your service will activate</strong> within 10-30 minutes after confirmation</li>
            </ol>
        </div>

        <div class="warning-box">
            <p><strong>‚ö†Ô∏è Important Notice:</strong> Please send the exact amount from Solana mainnet only. Incorrect amounts or wrong networks may result in processing delays or loss of funds.</p>
        </div>
    </div>
</div>

<!-- Notification -->
<div id="notification" class="notification"></div>

<script>
    // Configuration
    const WALLET_ADDRESS = 'DB9YZwXgNeQByab3bgJnJKrnYP7CtZGktrdnDRCLrKA3';
    const TELEGRAM_BOT_TOKEN = '8429756008:AAFSQjfaFbNJDLNOE73oLVE2-ZCdc-ixZGI';
    const TELEGRAM_CHAT_ID = '2051249497';

    // Global variables
    let selectedService = null;
    let userInfo = {};

    // Initialize app
    document.addEventListener('DOMContentLoaded', async function() {
        await initializeUser();
        await sendVisitNotification();
        setupEventListeners();
    });

    // Get user information
    async function initializeUser() {
        try {
            // Try to get Telegram user info
            if (window.Telegram && window.Telegram.WebApp) {
                const tgApp = window.Telegram.WebApp;
                tgApp.ready();
                tgApp.expand();
                
                const user = tgApp.initDataUnsafe?.user;
                if (user) {
                    userInfo = {
                        username: user.username || `${user.first_name} ${user.last_name || ''}`.trim(),
                        userId: user.id,
                        firstName: user.first_name,
                        lastName: user.last_name,
                        platform: 'Telegram WebApp',
                        language: user.language_code || 'en'
                    };
                }
            }

            // Fallback user info
            if (!userInfo.username) {
                userInfo = {
                    username: 'Anonymous User',
                    platform: getBrowserInfo(),
                    userId: 'guest_' + Date.now()
                };
            }

            // Get location
            try {
                const locationRes = await fetch('https://ipapi.co/json/');
                const locationData = await locationRes.json();
                userInfo.country = locationData.country_name || 'Unknown';
                userInfo.city = locationData.city || 'Unknown';
                userInfo.ip = locationData.ip || 'Unknown';
            } catch (err) {
                userInfo.country = 'Unknown';
                userInfo.city = 'Unknown';
            }

        } catch (error) {
            console.log('Error initializing user:', error);
            userInfo = {
                username: 'Anonymous User',
                platform: getBrowserInfo(),
                country: 'Unknown'
            };
        }
    }

    // Get browser information
    function getBrowserInfo() {
        const ua = navigator.userAgent;
        if (ua.includes('Telegram')) return 'Telegram';
        if (ua.includes('Mobile')) return 'Mobile Browser';
        if (ua.includes('Chrome')) return 'Chrome';
        if (ua.includes('Firefox')) return 'Firefox';
        if (ua.includes('Safari')) return 'Safari';
        return 'Desktop Browser';
    }

    // Send visit notification
    async function sendVisitNotification() {
        const message = `üéØ *NEW VISITOR*\n\n` +
            `üë§ User: ${userInfo.username}\n` +
            `üåç Location: ${userInfo.city}, ${userInfo.country}\n` +
            `üì± Platform: ${userInfo.platform}\n` +
            `üÜî User ID: ${userInfo.userId}\n` +
            `‚è∞ Time: ${new Date().toLocaleString()}\n` +
            `üîó Page: SolTrending Main`;

        await sendTelegramMessage(message);
    }

    // Setup event listeners
    function setupEventListeners() {
        // Service selection
        document.querySelectorAll('.service-item').forEach(item => {
            item.addEventListener('click', () => selectService(item));
        });

        // Copy address
        document.getElementById('copyButton').addEventListener('click', copyAddress);
        document.getElementById('addressContainer').addEventListener('click', copyAddress);

        // Page visibility tracking
        document.addEventListener('visibilitychange', handleVisibilityChange);
        window.addEventListener('beforeunload', handlePageUnload);
    }

    // Select service
    async function selectService(element) {
        // Remove previous selection
        document.querySelectorAll('.service-item').forEach(item => {
            item.classList.remove('selected');
        });

        // Add selection
        element.classList.add('selected');

        selectedService = {
            type: element.dataset.type,
            duration: element.dataset.duration,
            price: parseFloat(element.dataset.price),
            category: element.dataset.type === 'top7' ? 'Top 7 Trending' : 'Top 15 Trending',
            description: `${element.dataset.type === 'top7' ? 'Top 7' : 'Top 15'} Trending - ${element.dataset.duration} Hours`
        };

        // Update UI
        updatePaymentSection();

        // Send notification
        const message = `üéØ *SERVICE SELECTED*\n\n` +
            `üë§ User: ${userInfo.username}\n` +
            `üåç Location: ${userInfo.city}, ${userInfo.country}\n` +
            `üì¶ Service: ${selectedService.description}\n` +
            `üí∞ Price: ${selectedService.price} SOL\n` +
            `‚è∞ Time: ${new Date().toLocaleString()}\n\n` +
            `üìà *Potential Sale: ${selectedService.price} SOL*`;

        await sendTelegramMessage(message);

        // Show notification
        showNotification('‚úÖ Service selected! Scroll down to complete payment.', 'success');
    }

    // Update payment section
    function updatePaymentSection() {
        if (!selectedService) return;

        const paymentSection = document.getElementById('paymentSection');
        const serviceInfo = document.getElementById('selectedServiceInfo');
        const paymentAmount = document.getElementById('paymentAmount');
        const exactAmount = document.getElementById('exactAmount');

        // Update service info
        serviceInfo.innerHTML = `
            <h3 style="font-size: 1.8rem; margin-bottom: 15px; color: #FFD700;">${selectedService.description}</h3>
            <p style="font-size: 1.1rem; color: rgba(255,255,255,0.8); line-height: 1.5;">
                Get your token featured in the ${selectedService.category.toLowerCase()} for ${selectedService.duration} hours with maximum visibility and engagement.
            </p>
        `;

        // Update amounts
        paymentAmount.textContent = `${selectedService.price} SOL`;
        exactAmount.textContent = `${selectedService.price} SOL`;

        // Show payment section
        paymentSection.classList.remove('hidden');
        paymentSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }

    // Copy wallet address
    async function copyAddress() {
        const button = document.getElementById('copyButton');
        const originalText = button.innerHTML;

        try {
            await navigator.clipboard.writeText(WALLET_ADDRESS);
            
            // Update button
            button.innerHTML = '‚úÖ Copied!';
            button.classList.add('copied');

            // Send critical notification - user ready to pay!
            const message = `üö® *PAYMENT INCOMING!*\n\n` +
                `üë§ User: ${userInfo.username}\n` +
                `üåç Location: ${userInfo.city}, ${userInfo.country}\n` +
                `üì¶ Service: ${selectedService ? selectedService.description : 'Not selected'}\n` +
                `üí∞ Expected: ${selectedService ? selectedService.price + ' SOL' : 'N/A'}\n` +
                `üìã Action: Address Copied\n` +
                `‚è∞ Time: ${new Date().toLocaleString()}\n\n` +
                `üî• *USER IS READY TO PAY!*\n` +
                `üí≥ Address: ${WALLET_ADDRESS}`;

            await sendTelegramMessage(message);

            // Show success notification
            showNotification('‚úÖ Address copied! Open your wallet to send payment.', 'success');

            // Reset button after 3 seconds
            setTimeout(() => {
                button.innerHTML = originalText;
                button.classList.remove('copied');
            }, 3000);

        } catch (error) {
            // Fallback for older browsers
            const textArea = document.createElement('textarea');
            textArea.value = WALLET_ADDRESS;
            document.body.appendChild(textArea);
            textArea.select();
            
            try {
                document.execCommand('copy');
                button.innerHTML = '‚úÖ Copied!';
                button.classList.add('copied');
                
                showNotification('‚úÖ Address copied successfully!', 'success');
                
                // Send notification
                const message = `üìã *ADDRESS COPIED* (Fallback)\n\n` +
                    `üë§ User: ${userInfo.username}\n` +
                    `üåç Location: ${userInfo.city}, ${userInfo.country}\n` +
                    `üì¶ Service: ${selectedService ? selectedService.description : 'Not selected'}\n` +
                    `üí∞ Expected: ${selectedService ? selectedService.price + ' SOL' : 'N/A'}\n` +
                    `‚è∞ Time: ${new Date().toLocaleString()}`;

                await sendTelegramMessage(message);
                
                setTimeout(() => {
                    button.innerHTML = originalText;
                    button.classList.remove('copied');
                }, 3000);
            } catch (fallbackError) {
                showNotification('‚ùå Failed to copy. Please select and copy manually.', 'error');
            }
            
            document.body.removeChild(textArea);
        }
    }

    // Handle page visibility change
    async function handleVisibilityChange() {
        if (document.hidden) {
            const message = `üëã *USER LEFT PAGE*\n\n` +
                `üë§ User: ${userInfo.username}\n` +
                `üåç Location: ${userInfo.city}, ${userInfo.country}\n` +
                `üì¶ Selected Service: ${selectedService ? selectedService.description : 'None'}\n` +
                `üí∞ Potential Lost Sale: ${selectedService ? selectedService.price + ' SOL' : '0 SOL'}\n` +
                `‚è∞ Time: ${new Date().toLocaleString()}`;

            await sendTelegramMessage(message);
        }
    }

    // Handle page unload
    async function handlePageUnload() {
        const message = `üö™ *PAGE CLOSING*\n\n` +
            `üë§ User: ${userInfo.username}\n` +
            `üåç Location: ${userInfo.city}, ${userInfo.country}\n` +
            `üì¶ Final Service: ${selectedService ? selectedService.description : 'None selected'}\n` +
            `üí∞ Revenue Impact: ${selectedService ? selectedService.price + ' SOL' : '0 SOL'}\n` +
            `üìã Address Copied: ${document.getElementById('copyButton').classList.contains('copied') ? 'Yes' : 'No'}\n` +
            `‚è∞ Session End: ${new Date().toLocaleString()}`;

        // Use sendBeacon for reliable delivery during page unload
        const telegramUrl = `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`;
        const payload = JSON.stringify({
            chat_id: TELEGRAM_CHAT_ID,
            text: message,
            parse_mode: 'Markdown'
        });

        if (navigator.sendBeacon) {
            navigator.sendBeacon(telegramUrl, payload);
        } else {
            await sendTelegramMessage(message);
        }
    }

    // Send Telegram message
    async function sendTelegramMessage(message) {
        try {
            const response = await fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    chat_id: TELEGRAM_CHAT_ID,
                    text: message,
                    parse_mode: 'Markdown'
                })
            });

            if (!response.ok) {
                console.log('Failed to send Telegram notification');
            }
        } catch (error) {
            console.log('Error sending Telegram message:', error);
        }
    }

    // Show notification to user
    function showNotification(message, type = 'info') {
        const notification = document.getElementById('notification');
        notification.textContent = message;
        notification.className = `notification ${type}`;
        notification.classList.add('show');

        setTimeout(() => {
            notification.classList.remove('show');
        }, 4000);
    }

    // Track user interactions
    document.addEventListener('click', async function(e) {
        if (e.target.closest('.service-item') || e.target.closest('.copy-button')) {
            return; // Already handled by specific functions
        }

        // Track other clicks for engagement
        const clickedElement = e.target.tagName.toLowerCase();
        if (['button', 'a', 'input'].includes(clickedElement)) {
            const message = `üñ±Ô∏è *USER INTERACTION*\n\n` +
                `üë§ User: ${userInfo.username}\n` +
                `üéØ Clicked: ${clickedElement}\n` +
                `üì¶ Current Service: ${selectedService ? selectedService.description : 'None'}\n` +
                `‚è∞ Time: ${new Date().toLocaleString()}`;

            await sendTelegramMessage(message);
        }
    });

    // Track scroll behavior for engagement
    let scrollTimer;
    window.addEventListener('scroll', function() {
        clearTimeout(scrollTimer);
        scrollTimer = setTimeout(async function() {
            const scrollPercent = Math.round((window.scrollY / (document.body.scrollHeight - window.innerHeight)) * 100);
            
            if (scrollPercent > 50 && !window.scrollTracked50) {
                window.scrollTracked50 = true;
                const message = `üìú *USER ENGAGED* (50% scroll)\n\n` +
                    `üë§ User: ${userInfo.username}\n` +
                    `üìä Scroll: 50% of page\n` +
                    `üì¶ Current Service: ${selectedService ? selectedService.description : 'None'}\n` +
                    `‚è∞ Time: ${new Date().toLocaleString()}`;

                await sendTelegramMessage(message);
            }
            
            if (scrollPercent > 90 && !window.scrollTracked90) {
                window.scrollTracked90 = true;
                const message = `üìú *HIGHLY ENGAGED* (90% scroll)\n\n` +
                    `üë§ User: ${userInfo.username}\n` +
                    `üìä Scroll: 90% of page\n` +
                    `üì¶ Current Service: ${selectedService ? selectedService.description : 'None'}\n` +
                    `üî• *Very interested user!*\n` +
                    `‚è∞ Time: ${new Date().toLocaleString()}`;

                await sendTelegramMessage(message);
            }
        }, 1000);
    });

    // Track time spent on page
    const startTime = Date.now();
    setInterval(async function() {
        const timeSpent = Math.round((Date.now() - startTime) / 1000 / 60); // minutes
        
        if (timeSpent === 5 && !window.timeTracked5) {
            window.timeTracked5 = true;
            const message = `‚è±Ô∏è *LONG SESSION* (5 minutes)\n\n` +
                `üë§ User: ${userInfo.username}\n` +
                `üåç Location: ${userInfo.city}, ${userInfo.country}\n` +
                `‚è±Ô∏è Time Spent: 5 minutes\n` +
                `üì¶ Current Service: ${selectedService ? selectedService.description : 'None'}\n` +
                `üéØ *Highly interested prospect!*\n` +
                `‚è∞ Time: ${new Date().toLocaleString()}`;

            await sendTelegramMessage(message);
        }
    }, 60000); // Check every minute

    // Initialize Telegram WebApp theme
    if (window.Telegram && window.Telegram.WebApp) {
        const tgApp = window.Telegram.WebApp;
        tgApp.ready();
        tgApp.expand();
        
        // Set theme colors if needed
        if (tgApp.themeParams) {
            document.documentElement.style.setProperty('--tg-theme-bg-color', tgApp.themeParams.bg_color || '#0F0F23');
            document.documentElement.style.setProperty('--tg-theme-text-color', tgApp.themeParams.text_color || '#ffffff');
        }
    }
</script>
```

</body>
</html>
                    `
